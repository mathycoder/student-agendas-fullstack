{"ast":null,"code":"export function addStudentProgression(student, progression) {\n  return dispatch => {\n    dispatch({\n      type: 'START_ADDING_STUDENT_PROGRESSION_REQUEST'\n    });\n    const params = {\n      student: {\n        progressionId: progression.id\n      }\n    };\n    fetch(\"/klasses/\".concat(student.klass_id, \"/students/\").concat(student.id), {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(resp => resp.json()).then(studentProgression => dispatch({\n      type: 'ADD_STUDENT_PROGRESSION',\n      studentProgression\n    }));\n  };\n}\nexport function deleteStudentProgression(student, progression) {\n  return dispatch => {\n    dispatch({\n      type: 'START_REMOVE_PROGRESSION_FROM_STUDENT_REQUEST'\n    });\n    fetch(\"/students/\".concat(student.id, \"/progressions/\").concat(progression.id), {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(resp => resp.json()).then(studentProgression => dispatch({\n      type: 'REMOVE_STUDENT_FROM_PROGRESSION',\n      studentProgression\n    }));\n  };\n}\nexport function switchStudentProgression(draggableId, newIndex) {\n  return dispatch => {\n    dispatch({\n      type: 'START_SWITH_PROGGRESSION_REQUEST'\n    });\n    const params = {\n      student: {\n        newIndex: newIndex\n      }\n    };\n    const studentId = draggableId.split(\"-\")[1];\n    const progressionId = draggableId.split(\"-\")[3];\n    fetch(\"/students/\".concat(studentId, \"/progressions/\").concat(progressionId), {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(resp => resp.json()).then(studentProgressions => dispatch({\n      type: 'SWITCH_PROGRESSION',\n      studentProgressions\n    }));\n  };\n}","map":{"version":3,"sources":["/Users/adamsarli/Coding/student-agendas-fullstack/client/src/actions/studentProgressionActions.js"],"names":["addStudentProgression","student","progression","dispatch","type","params","progressionId","id","fetch","klass_id","method","body","JSON","stringify","headers","then","resp","json","studentProgression","deleteStudentProgression","switchStudentProgression","draggableId","newIndex","studentId","split","studentProgressions"],"mappings":"AAAA,OAAO,SAASA,qBAAT,CAA+BC,OAA/B,EAAwCC,WAAxC,EAAqD;AAC1D,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACA,UAAMC,MAAM,GAAG;AACbJ,MAAAA,OAAO,EAAE;AACPK,QAAAA,aAAa,EAAEJ,WAAW,CAACK;AADpB;AADI,KAAf;AAKAC,IAAAA,KAAK,oBAAaP,OAAO,CAACQ,QAArB,uBAA0CR,OAAO,CAACM,EAAlD,GAAwD;AAC3DG,MAAAA,MAAM,EAAE,OADmD;AAE3DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,MAAf,CAFqD;AAG3DS,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHkD,KAAxD,CAAL,CAOGC,IAPH,CAOQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAPhB,EAQGF,IARH,CAQQG,kBAAkB,IAAIf,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,yBAAR;AAAmCc,MAAAA;AAAnC,KAAD,CARtC;AASD,GAhBD;AAiBD;AAED,OAAO,SAASC,wBAAT,CAAkClB,OAAlC,EAA2CC,WAA3C,EAAuD;AAC5D,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AAEAI,IAAAA,KAAK,qBAAcP,OAAO,CAACM,EAAtB,2BAAyCL,WAAW,CAACK,EAArD,GAA2D;AAC9DG,MAAAA,MAAM,EAAE,QADsD;AAE9DI,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFqD,KAA3D,CAAL,CAMGC,IANH,CAMQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EANhB,EAOGF,IAPH,CAOQG,kBAAkB,IAAIf,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,iCAAR;AAA2Cc,MAAAA;AAA3C,KAAD,CAPtC;AASD,GAZD;AAaD;AAED,OAAO,SAASE,wBAAT,CAAkCC,WAAlC,EAA+CC,QAA/C,EAAwD;AAC7D,SAAQnB,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACA,UAAMC,MAAM,GAAG;AACbJ,MAAAA,OAAO,EAAE;AACPqB,QAAAA,QAAQ,EAAEA;AADH;AADI,KAAf;AAKA,UAAMC,SAAS,GAAGF,WAAW,CAACG,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAlB;AACA,UAAMlB,aAAa,GAAGe,WAAW,CAACG,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAtB;AACAhB,IAAAA,KAAK,qBAAce,SAAd,2BAAwCjB,aAAxC,GAAyD;AAC5DI,MAAAA,MAAM,EAAE,OADoD;AAE5DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,MAAf,CAFsD;AAG5DS,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHmD,KAAzD,CAAL,CAOGC,IAPH,CAOQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAPhB,EAQGF,IARH,CAQQU,mBAAmB,IAAItB,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,oBAAR;AAA8BqB,MAAAA;AAA9B,KAAD,CARvC;AASD,GAlBD;AAmBD","sourcesContent":["export function addStudentProgression(student, progression) {\n  return (dispatch) => {\n    dispatch({type: 'START_ADDING_STUDENT_PROGRESSION_REQUEST'})\n    const params = {\n      student: {\n        progressionId: progression.id\n      }\n    }\n    fetch(`/klasses/${student.klass_id}/students/${student.id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(resp => resp.json())\n      .then(studentProgression => dispatch({ type: 'ADD_STUDENT_PROGRESSION', studentProgression }))\n  }\n}\n\nexport function deleteStudentProgression(student, progression){\n  return (dispatch) => {\n    dispatch({type: 'START_REMOVE_PROGRESSION_FROM_STUDENT_REQUEST'})\n\n    fetch(`/students/${student.id}/progressions/${progression.id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(resp => resp.json())\n      .then(studentProgression => dispatch({ type: 'REMOVE_STUDENT_FROM_PROGRESSION', studentProgression }))\n\n  }\n}\n\nexport function switchStudentProgression(draggableId, newIndex){\n  return (dispatch) => {\n    dispatch({type: 'START_SWITH_PROGGRESSION_REQUEST'})\n    const params = {\n      student: {\n        newIndex: newIndex\n      }\n    }\n    const studentId = draggableId.split(\"-\")[1]\n    const progressionId = draggableId.split(\"-\")[3]\n    fetch(`/students/${studentId}/progressions/${progressionId}`, {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(resp => resp.json())\n      .then(studentProgressions => dispatch({ type: 'SWITCH_PROGRESSION', studentProgressions }))\n  }\n}\n"]},"metadata":{},"sourceType":"module"}