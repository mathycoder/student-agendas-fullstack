{"ast":null,"code":"export function addStudentProgression(student, progression) {\n  return dispatch => {\n    dispatch({\n      type: 'START_ADDING_STUDENT_PROGRESSION_REQUEST'\n    });\n    const params = {\n      student: {\n        progressionId: progression.id\n      }\n    };\n    fetch(\"/students/\".concat(student.id, \"/progressions/\").concat(progression.id), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      } // fetch(`/klasses/${student.klass_id}/students/${student.id}`, {\n      //   method: 'PATCH',\n      //   body: JSON.stringify(params),\n      //   headers: {\n      //     'Content-Type': 'application/json'\n      //   }\n\n    }).then(resp => resp.json()).then(studentProgression => dispatch({\n      type: 'ADD_STUDENT_PROGRESSION',\n      studentProgression\n    }));\n  };\n}\nexport function deleteStudentProgression(student, progression) {\n  return dispatch => {\n    dispatch({\n      type: 'START_REMOVE_PROGRESSION_FROM_STUDENT_REQUEST'\n    });\n    fetch(\"/students/\".concat(student.id, \"/progressions/\").concat(progression.id), {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(resp => resp.json()).then(studentProgression => dispatch({\n      type: 'REMOVE_STUDENT_FROM_PROGRESSION',\n      studentProgression\n    }));\n  };\n}\nexport function switchStudentProgression(draggableId, newIndex) {\n  return dispatch => {\n    dispatch({\n      type: 'START_SWITCH_PROGRESSION_REQUEST',\n      draggableId,\n      newIndex\n    });\n    const params = {\n      student: {\n        newIndex: newIndex\n      }\n    };\n    const studentId = draggableId.split(\"-\")[1];\n    const progressionId = draggableId.split(\"-\")[3];\n    fetch(\"/students/\".concat(studentId, \"/progressions/\").concat(progressionId), {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(resp => resp.json()).then(studentProgressions => dispatch({\n      type: 'SWITCH_PROGRESSION',\n      studentProgressions\n    }));\n  };\n}","map":{"version":3,"sources":["/Users/adamsarli/Coding/student-agendas-fullstack/client/src/actions/studentProgressionActions.js"],"names":["addStudentProgression","student","progression","dispatch","type","params","progressionId","id","fetch","method","headers","then","resp","json","studentProgression","deleteStudentProgression","switchStudentProgression","draggableId","newIndex","studentId","split","body","JSON","stringify","studentProgressions"],"mappings":"AAAA,OAAO,SAASA,qBAAT,CAA+BC,OAA/B,EAAwCC,WAAxC,EAAqD;AAC1D,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACA,UAAMC,MAAM,GAAG;AACbJ,MAAAA,OAAO,EAAE;AACPK,QAAAA,aAAa,EAAEJ,WAAW,CAACK;AADpB;AADI,KAAf;AAKAC,IAAAA,KAAK,qBAAcP,OAAO,CAACM,EAAtB,2BAAyCL,WAAW,CAACK,EAArD,GAA2D;AAC9DE,MAAAA,MAAM,EAAE,MADsD;AAE9DC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFqD,CAKhE;AACA;AACA;AACA;AACA;AACA;;AAVgE,KAA3D,CAAL,CAYGC,IAZH,CAYQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAZhB,EAaGF,IAbH,CAaQG,kBAAkB,IAAIX,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,yBAAR;AAAmCU,MAAAA;AAAnC,KAAD,CAbtC;AAcD,GArBD;AAsBD;AAED,OAAO,SAASC,wBAAT,CAAkCd,OAAlC,EAA2CC,WAA3C,EAAuD;AAC5D,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AAEAI,IAAAA,KAAK,qBAAcP,OAAO,CAACM,EAAtB,2BAAyCL,WAAW,CAACK,EAArD,GAA2D;AAC9DE,MAAAA,MAAM,EAAE,QADsD;AAE9DC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFqD,KAA3D,CAAL,CAMGC,IANH,CAMQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EANhB,EAOGF,IAPH,CAOQG,kBAAkB,IAAIX,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,iCAAR;AAA2CU,MAAAA;AAA3C,KAAD,CAPtC;AASD,GAZD;AAaD;AAED,OAAO,SAASE,wBAAT,CAAkCC,WAAlC,EAA+CC,QAA/C,EAAwD;AAC7D,SAAQf,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE,kCAAP;AAA2Ca,MAAAA,WAA3C;AAAwDC,MAAAA;AAAxD,KAAD,CAAR;AACA,UAAMb,MAAM,GAAG;AACbJ,MAAAA,OAAO,EAAE;AACPiB,QAAAA,QAAQ,EAAEA;AADH;AADI,KAAf;AAKA,UAAMC,SAAS,GAAGF,WAAW,CAACG,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAlB;AACA,UAAMd,aAAa,GAAGW,WAAW,CAACG,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAtB;AACAZ,IAAAA,KAAK,qBAAcW,SAAd,2BAAwCb,aAAxC,GAAyD;AAC5DG,MAAAA,MAAM,EAAE,OADoD;AAE5DY,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAelB,MAAf,CAFsD;AAG5DK,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHmD,KAAzD,CAAL,CAOGC,IAPH,CAOQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAPhB,EAQGF,IARH,CAQQa,mBAAmB,IAAIrB,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,oBAAR;AAA8BoB,MAAAA;AAA9B,KAAD,CARvC;AASD,GAlBD;AAmBD","sourcesContent":["export function addStudentProgression(student, progression) {\n  return (dispatch) => {\n    dispatch({type: 'START_ADDING_STUDENT_PROGRESSION_REQUEST'})\n    const params = {\n      student: {\n        progressionId: progression.id\n      }\n    }\n    fetch(`/students/${student.id}/progressions/${progression.id}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    // fetch(`/klasses/${student.klass_id}/students/${student.id}`, {\n    //   method: 'PATCH',\n    //   body: JSON.stringify(params),\n    //   headers: {\n    //     'Content-Type': 'application/json'\n    //   }\n    })\n      .then(resp => resp.json())\n      .then(studentProgression => dispatch({ type: 'ADD_STUDENT_PROGRESSION', studentProgression }))\n  }\n}\n\nexport function deleteStudentProgression(student, progression){\n  return (dispatch) => {\n    dispatch({type: 'START_REMOVE_PROGRESSION_FROM_STUDENT_REQUEST'})\n\n    fetch(`/students/${student.id}/progressions/${progression.id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(resp => resp.json())\n      .then(studentProgression => dispatch({ type: 'REMOVE_STUDENT_FROM_PROGRESSION', studentProgression }))\n\n  }\n}\n\nexport function switchStudentProgression(draggableId, newIndex){\n  return (dispatch) => {\n    dispatch({type: 'START_SWITCH_PROGRESSION_REQUEST', draggableId, newIndex})\n    const params = {\n      student: {\n        newIndex: newIndex\n      }\n    }\n    const studentId = draggableId.split(\"-\")[1]\n    const progressionId = draggableId.split(\"-\")[3]\n    fetch(`/students/${studentId}/progressions/${progressionId}`, {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(resp => resp.json())\n      .then(studentProgressions => dispatch({ type: 'SWITCH_PROGRESSION', studentProgressions }))\n  }\n}\n"]},"metadata":{},"sourceType":"module"}