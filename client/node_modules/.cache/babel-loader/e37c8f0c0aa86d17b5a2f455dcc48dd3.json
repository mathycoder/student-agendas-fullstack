{"ast":null,"code":"import _defineProperty from \"/Users/adamsarli/Coding/student-agendas-fullstack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/adamsarli/Coding/student-agendas-fullstack/client/src/components/progressions/NewProgressionContainer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport VideoSearchContainer from '../videos/youtube/VideoSearchContainer';\nimport VimeoSearchContainer from '../videos/vimeo/VimeoSearchContainer';\nimport NewProgressionMenuBar from './NewProgressionMenuBar';\nimport NewProgression from './NewProgression';\nimport DisplayPreview from '../videos/DisplayPreview';\nimport NewReflection from '../reflections/NewReflection';\nimport './Progression.css';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux';\nimport { addProgression, editProgression } from '../../actions/progressionActions';\nimport { addFlashMessage } from '../../actions/flashActions';\n\nclass NewProgressionContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: undefined,\n      name: \"\",\n      color: \"blue\",\n      currProgression: [],\n      menuSelect: \"Add YouTube Video\",\n      selectedIndex: \"\"\n    };\n\n    this.loadProgressionIntoState = () => {\n      const progId = this.props.match.params.id;\n\n      if (progId && progId !== \"new\" && !this.state.id && this.props.videos.allIds.length > 0 && this.props.reflections.allIds.length > 0 && this.props.progressions.allIds.length > 0) {\n        const progression = this.props.progressions.byId[\"progression\".concat(progId)];\n        const progressionItems = progression.items.map(videoOrReflectionId => {\n          if (videoOrReflectionId.includes(\"video\")) {\n            return this.props.videos.byId[videoOrReflectionId];\n          } else if (videoOrReflectionId.includes(\"reflection\")) {\n            return this.props.reflections.byId[videoOrReflectionId];\n          }\n        });\n        this.setState(_objectSpread({}, this.state, {\n          currProgression: [...progressionItems],\n          name: progression.name,\n          id: progression.id,\n          color: progression.color\n        }));\n      }\n    };\n\n    this.onNameInputChange = event => {\n      this.setState(_objectSpread({}, this.state, {\n        name: event.target.value,\n        currProgression: [...this.state.currProgression]\n      }));\n    };\n\n    this.handleFormSubmit = event => {\n      const _this$props = this.props,\n            addProgression = _this$props.addProgression,\n            editProgression = _this$props.editProgression,\n            history = _this$props.history;\n      event.preventDefault();\n      const progression = {\n        progression: {\n          id: this.state.id,\n          name: this.state.name,\n          color: this.state.color,\n          items_attributes: [...this.state.currProgression]\n        }\n      };\n\n      if (!this.state.id) {\n        addProgression(progression, history);\n      } else {\n        editProgression(progression, history);\n      }\n    };\n\n    this.handleDragOver = event => {\n      event.preventDefault();\n      document.querySelector('.progression').classList.add(\"drag-over-progression\");\n    };\n\n    this.handleDragLeave = event => {\n      event.preventDefault();\n      document.querySelector('.progression').classList.remove(\"drag-over-progression\");\n    };\n\n    this.handleDragStart = (event, video) => {\n      let data = JSON.stringify(video);\n      event.dataTransfer.setData(\"video\", data);\n    };\n\n    this.handleOnDrop = event => {\n      let video = event.dataTransfer.getData(\"video\");\n      video = JSON.parse(video);\n      this.addToProgression(video);\n      document.querySelector('.progression').classList.remove(\"drag-over-progression\");\n    };\n\n    this.addToProgression = item => {\n      if (item.videoId) {\n        const any = this.state.currProgression.find(vid => vid.videoId === item.videoId);\n\n        if (!any) {\n          this.setState(_objectSpread({}, this.state, {\n            currProgression: [...this.state.currProgression, item]\n          }));\n        } else {\n          this.props.addFlashMessage(\"Your progression already contains this video\");\n        }\n      } else {\n        this.setState(_objectSpread({}, this.state, {\n          menuSelect: '',\n          currProgression: [...this.state.currProgression, item]\n        }));\n      }\n    };\n\n    this.editReflectionItem = item => {\n      const editedProgression = [...this.state.currProgression];\n      editedProgression[this.state.selectedIndex] = item;\n      this.setState(_objectSpread({}, this.state, {\n        currProgression: editedProgression,\n        menuSelect: ''\n      }));\n    };\n\n    this.handleProgressionItemClick = index => {\n      const currProgression = this.state.currProgression;\n      this.setState(_objectSpread({}, this.state, {\n        currProgression: [...currProgression],\n        selectedIndex: index,\n        menuSelect: \"Edit Progression\"\n      }));\n    };\n\n    this.handleMenuClick = event => {\n      const index = event.target.innerText === \"Edit Progression\" && this.state.currProgression.length > 0 ? 0 : \"\";\n      this.setState(_objectSpread({}, this.state, {\n        selectedIndex: index,\n        currProgression: [...this.state.currProgression],\n        menuSelect: event.target.innerText\n      }));\n    };\n\n    this.removeFromProgression = movie => {\n      this.setState(_objectSpread({}, this.state, {\n        currProgression: this.state.currProgression.filter(item => item !== movie),\n        menuSelect: \"Add YouTube Video\",\n        selectedIndex: \"\"\n      }));\n    };\n\n    this.progressionEmpty = () => {\n      return this.state.currProgression.length > 0 ? false : true;\n    };\n\n    this.handleDNDDragStart = attributes => {\n      const draggableId = attributes.draggableId;\n      document.querySelector(\"#item-\".concat(draggableId)).classList.add(\"item-dragging\");\n    };\n\n    this.handleDNDDragEnd = result => {\n      const destination = result.destination,\n            source = result.source,\n            draggableId = result.draggableId;\n      document.querySelector(\"#item-\".concat(draggableId)).classList.remove(\"item-dragging\");\n\n      if (!destination) {\n        return;\n      }\n\n      if (destination.index !== source.index) {\n        const testArray = [...this.state.currProgression];\n        testArray.splice(source.index, 1);\n        testArray.splice(destination.index, 0, this.state.currProgression[source.index]);\n        this.setState(_objectSpread({}, this.state, {\n          currProgression: testArray\n        }));\n      }\n    };\n\n    this.renderForm = () => {\n      return React.createElement(\"form\", {\n        className: \"create-progression-form\",\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"new-progression-title \".concat(this.state.color, \"-title\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        required: true,\n        placeholder: \"Enter a title for this progression\",\n        value: this.state.name,\n        onChange: this.onNameInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"color-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"select-color red-title\",\n        onClick: event => this.handleColorClick(\"red\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"select-color orange-title\",\n        onClick: event => this.handleColorClick(\"orange\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"select-color green-title\",\n        onClick: event => this.handleColorClick(\"green\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"select-color blue-title\",\n        onClick: event => this.handleColorClick(\"blue\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"select-color purple-title\",\n        onClick: event => this.handleColorClick(\"purple\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"save progression\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }));\n    };\n\n    this.handleColorClick = color => {\n      this.setState(_objectSpread({}, this.state, {\n        currProgression: [...this.state.currProgression],\n        color: color\n      }));\n    };\n\n    this.renderProgressionTemplate = () => {\n      return React.createElement(DragDropContext, {\n        onDragEnd: this.handleDNDDragEnd,\n        onDragStart: this.handleDNDDragStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(Droppable, {\n        droppableId: \"droppable-1\",\n        direction: \"horizontal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, provided => React.createElement(NewProgression, Object.assign({\n        placeholder: provided.placeholder,\n        color: this.state.color,\n        innerRef: provided.innerRef\n      }, provided.droppableProps, {\n        removeFromProgression: this.removeFromProgression,\n        currProgression: this.state.currProgression,\n        handleProgressionItemClick: this.handleProgressionItemClick,\n        handleDragOver: this.handleDragOver,\n        handleDragLeave: this.handleDragLeave,\n        handleOnDrop: this.handleOnDrop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), provided.placeholder)));\n    };\n\n    this.renderAddingItemsTemplate = () => {\n      const _this$state = this.state,\n            selectedIndex = _this$state.selectedIndex,\n            currProgression = _this$state.currProgression;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(NewProgressionMenuBar, {\n        handleMenuClick: this.handleMenuClick,\n        menuSelect: this.state.menuSelect,\n        progressionEmpty: this.progressionEmpty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }), this.state.menuSelect === \"Edit Progression\" && selectedIndex !== '' && currProgression[selectedIndex].videoId ? React.createElement(DisplayPreview, {\n        video: currProgression[selectedIndex],\n        removeFromProgression: this.removeFromProgression,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }) : '', this.state.menuSelect === \"Edit Progression\" && selectedIndex !== '' && currProgression[selectedIndex].question1 ? React.createElement(NewReflection, {\n        key: selectedIndex,\n        reflection: currProgression[selectedIndex],\n        addToProgression: this.addToProgression,\n        editReflectionItem: this.editReflectionItem,\n        handleDragStart: this.handleDragStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }) : '', this.state.menuSelect === \"Add YouTube Video\" ? React.createElement(VideoSearchContainer, {\n        addToProgression: this.addToProgression,\n        handleDragStart: this.handleDragStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }) : '', this.state.menuSelect === \"Add Vimeo Video\" ? React.createElement(VimeoSearchContainer, {\n        addToProgression: this.addToProgression,\n        handleDragStart: this.handleDragStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }) : '', this.state.menuSelect === \"Add Reflection\" ? React.createElement(NewReflection, {\n        reflection: \"\",\n        addToProgression: this.addToProgression,\n        editReflectionItem: this.editReflectionItem,\n        handleDragStart: this.handleDragStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }) : '');\n    };\n  }\n\n  componentDidMount() {\n    this.loadProgressionIntoState();\n  }\n\n  componentDidUpdate() {\n    this.loadProgressionIntoState();\n  }\n\n  render() {\n    const id = this.state.id;\n    return React.createElement(\"div\", {\n      className: \"new-progression-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, this.renderForm(), this.renderProgressionTemplate(), this.renderAddingItemsTemplate());\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    progressions: state.progressions,\n    videos: state.videos,\n    reflections: state.reflections\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addProgression: (progression, history) => dispatch(addProgression(progression, history)),\n    editProgression: progression => dispatch(editProgression(progression)),\n    addFlashMessage: message => dispatch(addFlashMessage(message))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewProgressionContainer);","map":{"version":3,"sources":["/Users/adamsarli/Coding/student-agendas-fullstack/client/src/components/progressions/NewProgressionContainer.js"],"names":["React","Component","VideoSearchContainer","VimeoSearchContainer","NewProgressionMenuBar","NewProgression","DisplayPreview","NewReflection","DragDropContext","Droppable","connect","addProgression","editProgression","addFlashMessage","NewProgressionContainer","state","id","undefined","name","color","currProgression","menuSelect","selectedIndex","loadProgressionIntoState","progId","props","match","params","videos","allIds","length","reflections","progressions","progression","byId","progressionItems","items","map","videoOrReflectionId","includes","setState","onNameInputChange","event","target","value","handleFormSubmit","history","preventDefault","items_attributes","handleDragOver","document","querySelector","classList","add","handleDragLeave","remove","handleDragStart","video","data","JSON","stringify","dataTransfer","setData","handleOnDrop","getData","parse","addToProgression","item","videoId","any","find","vid","editReflectionItem","editedProgression","handleProgressionItemClick","index","handleMenuClick","innerText","removeFromProgression","movie","filter","progressionEmpty","handleDNDDragStart","attributes","draggableId","handleDNDDragEnd","result","destination","source","testArray","splice","renderForm","handleColorClick","renderProgressionTemplate","provided","placeholder","innerRef","droppableProps","renderAddingItemsTemplate","question1","componentDidMount","componentDidUpdate","render","mapStateToProps","mapDispatchToProps","dispatch","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport VideoSearchContainer from '../videos/youtube/VideoSearchContainer'\nimport VimeoSearchContainer from '../videos/vimeo/VimeoSearchContainer'\nimport NewProgressionMenuBar from './NewProgressionMenuBar'\nimport NewProgression from './NewProgression'\nimport DisplayPreview from '../videos/DisplayPreview'\nimport NewReflection from '../reflections/NewReflection'\nimport './Progression.css';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux'\nimport { addProgression, editProgression } from '../../actions/progressionActions'\nimport { addFlashMessage } from '../../actions/flashActions'\n\nclass NewProgressionContainer extends Component {\n  state = {\n    id: undefined,\n    name: \"\",\n    color: \"blue\",\n    currProgression: [],\n    menuSelect: \"Add YouTube Video\",\n    selectedIndex: \"\"\n  }\n\n  loadProgressionIntoState = () => {\n    const progId = this.props.match.params.id\n    if (progId && progId !== \"new\" && !this.state.id && this.props.videos.allIds.length > 0 && this.props.reflections.allIds.length > 0 && this.props.progressions.allIds.length > 0) {\n      const progression = this.props.progressions.byId[`progression${progId}`]\n      const progressionItems = progression.items.map(videoOrReflectionId => {\n        if (videoOrReflectionId.includes(\"video\")) {\n          return this.props.videos.byId[videoOrReflectionId]\n        } else if (videoOrReflectionId.includes(\"reflection\")) {\n          return this.props.reflections.byId[videoOrReflectionId]\n        }\n\n      })\n\n      this.setState({\n        ...this.state,\n        currProgression: [...progressionItems],\n        name: progression.name,\n        id: progression.id,\n        color: progression.color\n      })\n\n    }\n  }\n\n  componentDidMount(){\n    this.loadProgressionIntoState()\n  }\n\n  componentDidUpdate(){\n    this.loadProgressionIntoState()\n  }\n\n  onNameInputChange = event => {\n    this.setState({\n      ...this.state,\n      name: event.target.value,\n      currProgression: [...this.state.currProgression]\n    })\n  }\n\n  handleFormSubmit = (event) => {\n    const { addProgression, editProgression, history } = this.props\n    event.preventDefault()\n    const progression = {\n      progression: {\n        id: this.state.id,\n        name: this.state.name,\n        color: this.state.color,\n        items_attributes: [...this.state.currProgression]\n      }\n    }\n    if (!this.state.id) {\n      addProgression(progression, history)\n    } else {\n      editProgression(progression, history)\n    }\n  }\n\n  handleDragOver = event => {\n    event.preventDefault()\n    document.querySelector('.progression').classList.add(\"drag-over-progression\")\n  }\n\n  handleDragLeave = event => {\n    event.preventDefault()\n    document.querySelector('.progression').classList.remove(\"drag-over-progression\")\n  }\n\n  handleDragStart = (event, video) => {\n    let data = JSON.stringify(video)\n    event.dataTransfer.setData(\"video\", data)\n  }\n\n  handleOnDrop = (event) => {\n    let video = event.dataTransfer.getData(\"video\")\n    video = JSON.parse(video)\n    this.addToProgression(video)\n    document.querySelector('.progression').classList.remove(\"drag-over-progression\")\n  }\n\n  addToProgression = (item) => {\n    if (item.videoId) {\n      const any = this.state.currProgression.find(vid => vid.videoId === item.videoId)\n      if (!any) {\n        this.setState({\n          ...this.state,\n          currProgression: [...this.state.currProgression, item]\n        })\n      } else {\n        this.props.addFlashMessage(\"Your progression already contains this video\")\n      }\n    } else {\n      this.setState({\n        ...this.state,\n        menuSelect: '',\n        currProgression: [...this.state.currProgression, item]\n      })\n    }\n  }\n\n  editReflectionItem = (item) => {\n    const editedProgression = [...this.state.currProgression]\n    editedProgression[this.state.selectedIndex] = item\n    this.setState({\n      ...this.state,\n      currProgression: editedProgression,\n      menuSelect: ''\n    })\n  }\n\n  handleProgressionItemClick = index => {\n    const { currProgression } = this.state\n    this.setState({\n      ...this.state,\n      currProgression: [...currProgression],\n      selectedIndex: index,\n      menuSelect: \"Edit Progression\"\n    })\n  }\n\n  handleMenuClick = (event) => {\n    const index = event.target.innerText === \"Edit Progression\" && this.state.currProgression.length > 0 ? 0 : \"\"\n    this.setState({\n      ...this.state,\n      selectedIndex: index,\n      currProgression: [...this.state.currProgression],\n      menuSelect: event.target.innerText\n    })\n  }\n\n  removeFromProgression = (movie) => {\n    this.setState({\n      ...this.state,\n      currProgression: this.state.currProgression.filter(item => item !== movie),\n      menuSelect: \"Add YouTube Video\",\n      selectedIndex: \"\"\n    })\n  }\n\n  progressionEmpty = () => {\n    return this.state.currProgression.length > 0 ? false : true\n  }\n\n  handleDNDDragStart = attributes => {\n    const {draggableId} = attributes\n    document.querySelector(`#item-${draggableId}`).classList.add(\"item-dragging\")\n  }\n\n  handleDNDDragEnd = result => {\n    const { destination, source, draggableId } = result\n    document.querySelector(`#item-${draggableId}`).classList.remove(\"item-dragging\")\n    if (!destination) {\n      return\n    }\n\n    if (destination.index !== source.index) {\n      const testArray = [...this.state.currProgression]\n      testArray.splice(source.index, 1)\n      testArray.splice(destination.index, 0, this.state.currProgression[source.index])\n      this.setState({\n        ...this.state,\n        currProgression: testArray\n      })\n    }\n\n  }\n\n  renderForm = () => {\n    return (\n      <form className=\"create-progression-form\" onSubmit={this.handleFormSubmit}>\n        <div className={`new-progression-title ${this.state.color}-title`}>\n          <input type=\"text\"\n            required\n            placeholder=\"Enter a title for this progression\"\n            value={this.state.name}\n            onChange={this.onNameInputChange}/>\n        </div>\n        <div className=\"color-container\">\n          <div className=\"select-color red-title\" onClick={event => this.handleColorClick(\"red\")}></div>\n          <div className=\"select-color orange-title\" onClick={event => this.handleColorClick(\"orange\")}></div>\n          <div className=\"select-color green-title\" onClick={event => this.handleColorClick(\"green\")}></div>\n          <div className=\"select-color blue-title\" onClick={event => this.handleColorClick(\"blue\")}></div>\n          <div className=\"select-color purple-title\" onClick={event => this.handleColorClick(\"purple\")}></div>\n        </div>\n        <input type=\"submit\" value=\"save progression\" />\n      </form>\n    )\n  }\n\n  handleColorClick = (color) => {\n    this.setState({\n      ...this.state,\n      currProgression: [...this.state.currProgression],\n      color: color\n    })\n  }\n\n  renderProgressionTemplate = () => {\n    return (\n      <DragDropContext\n        onDragEnd={this.handleDNDDragEnd}\n        onDragStart={this.handleDNDDragStart}\n        >\n        <Droppable droppableId=\"droppable-1\" direction=\"horizontal\">\n          {(provided) => (\n            <NewProgression\n              placeholder={provided.placeholder}\n              color={this.state.color}\n              innerRef={provided.innerRef}\n              {...provided.droppableProps}\n              removeFromProgression={this.removeFromProgression}\n              currProgression={this.state.currProgression}\n              handleProgressionItemClick={this.handleProgressionItemClick}\n              handleDragOver={this.handleDragOver}\n              handleDragLeave={this.handleDragLeave}\n              handleOnDrop={this.handleOnDrop} >\n                {provided.placeholder}\n            </NewProgression>\n          )}\n        </Droppable>\n      </DragDropContext>\n    )\n  }\n\n  renderAddingItemsTemplate = () => {\n    const {selectedIndex, currProgression} = this.state\n    return (\n      <div>\n        <NewProgressionMenuBar handleMenuClick={this.handleMenuClick} menuSelect={this.state.menuSelect} progressionEmpty={this.progressionEmpty}/>\n        {this.state.menuSelect === \"Edit Progression\" && selectedIndex !== '' && currProgression[selectedIndex].videoId ? <DisplayPreview video={currProgression[selectedIndex]} removeFromProgression={this.removeFromProgression}/> : ''}\n        {this.state.menuSelect === \"Edit Progression\" && selectedIndex !== '' && currProgression[selectedIndex].question1 ? <NewReflection key={selectedIndex} reflection={currProgression[selectedIndex]} addToProgression={this.addToProgression} editReflectionItem={this.editReflectionItem} handleDragStart={this.handleDragStart} /> : ''}\n\n        {this.state.menuSelect === \"Add YouTube Video\" ? <VideoSearchContainer addToProgression={this.addToProgression} handleDragStart={this.handleDragStart} /> : ''}\n        {this.state.menuSelect === \"Add Vimeo Video\" ? <VimeoSearchContainer addToProgression={this.addToProgression} handleDragStart={this.handleDragStart} /> : ''}\n        {this.state.menuSelect === \"Add Reflection\" ? <NewReflection reflection='' addToProgression={this.addToProgression} editReflectionItem={this.editReflectionItem} handleDragStart={this.handleDragStart} /> : ''}\n      </div>\n    )\n  }\n\n  render(){\n    const {id} = this.state\n    return (\n      <div className=\"new-progression-container\">\n        {this.renderForm()}\n        {this.renderProgressionTemplate()}\n        {this.renderAddingItemsTemplate()}\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    progressions: state.progressions,\n    videos: state.videos,\n    reflections: state.reflections\n  }\n}\n\nfunction mapDispatchToProps(dispatch){\n  return {\n    addProgression: (progression, history) => dispatch(addProgression(progression, history)),\n    editProgression: (progression) => dispatch(editProgression(progression)),\n    addFlashMessage: (message) => dispatch(addFlashMessage(message))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewProgressionContainer)\n"]},"metadata":{},"sourceType":"module"}