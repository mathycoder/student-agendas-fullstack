{"ast":null,"code":"import _defineProperty from \"/Users/adamsarli/Coding/final/student-agendas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/adamsarli/Coding/final/student-agendas/src/progressions/NewProgressionContainer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport VideoSearchContainer from '../videos/VideoSearchContainer';\nimport NewProgressionMenuBar from './NewProgressionMenuBar';\nimport Progression from './Progression';\nimport DisplayPreview from '../videos/DisplayPreview';\nimport './Progression.css';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\n\nclass NewProgressionContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currProgression: [],\n      menuSelect: \"Add YouTube Video\",\n      selectedIndex: \"\"\n    };\n\n    this.handleDragOver = event => {\n      event.preventDefault();\n      document.querySelector('.progression').classList.add(\"drag-over-progression\");\n    };\n\n    this.handleDragLeave = event => {\n      event.preventDefault();\n      document.querySelector('.progression').classList.remove(\"drag-over-progression\");\n    };\n\n    this.handleDragStart = (event, video) => {\n      let data = JSON.stringify(video);\n      event.dataTransfer.setData(\"video\", data);\n    };\n\n    this.handleOnDrop = event => {\n      let video = event.dataTransfer.getData(\"video\");\n      video = JSON.parse(video);\n      this.addToProgression(video);\n      document.querySelector('.progression').classList.remove(\"drag-over-progression\");\n    };\n\n    this.addToProgression = video => {\n      const any = this.state.currProgression.find(vid => vid.id.videoId === video.id.videoId);\n\n      if (!any) {\n        this.setState(_objectSpread({}, this.state, {\n          currProgression: [...this.state.currProgression, video],\n          draggedItem: _objectSpread({}, this.state.draggedItem)\n        }));\n      }\n    };\n\n    this.handleProgressionItemClick = index => {\n      this.setState(_objectSpread({}, this.state, {\n        currProgression: [...this.state.currProgression],\n        selectedIndex: index,\n        menuSelect: \"Edit Progression\"\n      }));\n    };\n\n    this.handleMenuClick = event => {\n      const index = event.target.innerText === \"Edit Progression\" && this.state.currProgression.length > 0 ? 0 : \"\";\n      this.setState(_objectSpread({}, this.state, {\n        selectedIndex: index,\n        currProgression: [...this.state.currProgression],\n        menuSelect: event.target.innerText\n      }));\n    };\n\n    this.removeFromProgression = movie => {\n      this.setState(_objectSpread({}, this.state, {\n        currProgression: this.state.currProgression.filter(item => item !== movie),\n        menuSelect: \"Add YouTube Video\",\n        selectedIndex: \"\"\n      }));\n    };\n\n    this.progressionEmpty = () => {\n      return this.state.currProgression.length > 0 ? false : true;\n    };\n\n    this.handleDNDDragStart = attributes => {\n      const draggableId = attributes.draggableId;\n      document.querySelector(\"#item-\".concat(draggableId)).style.backgroundColor = \"green\";\n    };\n\n    this.handleDNDDragEnd = result => {\n      const destination = result.destination,\n            source = result.source,\n            draggableId = result.draggableId;\n\n      if (!destination) {\n        return;\n      }\n\n      if (destination.index !== source.index) {\n        const testArray = [...this.state.currProgression];\n        testArray.splice(source.index, 1);\n        testArray.splice(destination.index, 0, this.state.currProgression[source.index]);\n        this.setState(_objectSpread({}, this.state, {\n          currProgression: testArray\n        }));\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"new-progression-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(DragDropContext, {\n      onDragEnd: this.handleDNDDragEnd,\n      onDragStart: this.handleDNDDragStart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Droppable, {\n      droppableId: \"droppable-1\",\n      direction: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, provided => React.createElement(Progression, Object.assign({\n      innerRef: provided.innerRef\n    }, provided.droppableProps, {\n      removeFromProgression: this.removeFromProgression,\n      currProgression: this.state.currProgression,\n      handleProgressionItemClick: this.handleProgressionItemClick,\n      handleDragOver: this.handleDragOver,\n      handleDragLeave: this.handleDragLeave,\n      handleOnDrop: this.handleOnDrop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), provided.placeholder))), React.createElement(NewProgressionMenuBar, {\n      handleMenuClick: this.handleMenuClick,\n      menuSelect: this.state.menuSelect,\n      progressionEmpty: this.progressionEmpty,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), this.state.menuSelect === \"Edit Progression\" && this.state.selectedIndex !== '' ? React.createElement(DisplayPreview, {\n      video: this.state.currProgression[this.state.selectedIndex],\n      removeFromProgression: this.removeFromProgression,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }) : '', this.state.menuSelect === \"Add YouTube Video\" ? React.createElement(VideoSearchContainer, {\n      addToProgression: this.addToProgression,\n      handleDragStart: this.handleDragStart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }) : '');\n  }\n\n}\n\nexport default NewProgressionContainer;","map":{"version":3,"sources":["/Users/adamsarli/Coding/final/student-agendas/src/progressions/NewProgressionContainer.js"],"names":["React","Component","VideoSearchContainer","NewProgressionMenuBar","Progression","DisplayPreview","DragDropContext","Droppable","NewProgressionContainer","state","currProgression","menuSelect","selectedIndex","handleDragOver","event","preventDefault","document","querySelector","classList","add","handleDragLeave","remove","handleDragStart","video","data","JSON","stringify","dataTransfer","setData","handleOnDrop","getData","parse","addToProgression","any","find","vid","id","videoId","setState","draggedItem","handleProgressionItemClick","index","handleMenuClick","target","innerText","length","removeFromProgression","movie","filter","item","progressionEmpty","handleDNDDragStart","attributes","draggableId","style","backgroundColor","handleDNDDragEnd","result","destination","source","testArray","splice","render","provided","innerRef","droppableProps","placeholder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport VideoSearchContainer from '../videos/VideoSearchContainer'\nimport NewProgressionMenuBar from './NewProgressionMenuBar'\nimport Progression from './Progression'\nimport DisplayPreview from '../videos/DisplayPreview'\nimport './Progression.css';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\n\nclass NewProgressionContainer extends Component {\n  state = {\n    currProgression: [],\n    menuSelect: \"Add YouTube Video\",\n    selectedIndex: \"\"\n  }\n\n  handleDragOver = event => {\n    event.preventDefault()\n    document.querySelector('.progression').classList.add(\"drag-over-progression\")\n  }\n\n  handleDragLeave = event => {\n    event.preventDefault()\n    document.querySelector('.progression').classList.remove(\"drag-over-progression\")\n  }\n\n  handleDragStart = (event, video) => {\n    let data = JSON.stringify(video)\n    event.dataTransfer.setData(\"video\", data)\n  }\n\n  handleOnDrop = (event) => {\n    let video = event.dataTransfer.getData(\"video\")\n    video = JSON.parse(video)\n    this.addToProgression(video)\n    document.querySelector('.progression').classList.remove(\"drag-over-progression\")\n  }\n\n  addToProgression = (video) => {\n    const any = this.state.currProgression.find(vid => vid.id.videoId === video.id.videoId)\n    if (!any) {\n      this.setState({\n        ...this.state,\n        currProgression: [...this.state.currProgression, video],\n        draggedItem: {...this.state.draggedItem}\n      })\n    }\n  }\n\n  handleProgressionItemClick = index => {\n    this.setState({\n      ...this.state,\n      currProgression: [...this.state.currProgression],\n      selectedIndex: index,\n      menuSelect: \"Edit Progression\"\n    })\n  }\n\n  handleMenuClick = (event) => {\n    const index = event.target.innerText === \"Edit Progression\" && this.state.currProgression.length > 0 ? 0 : \"\"\n    this.setState({\n      ...this.state,\n      selectedIndex: index,\n      currProgression: [...this.state.currProgression],\n      menuSelect: event.target.innerText\n    })\n  }\n\n  removeFromProgression = (movie) => {\n    this.setState({\n      ...this.state,\n      currProgression: this.state.currProgression.filter(item => item !== movie),\n      menuSelect: \"Add YouTube Video\",\n      selectedIndex: \"\"\n    })\n  }\n\n  progressionEmpty = () => {\n    return this.state.currProgression.length > 0 ? false : true\n  }\n\n  handleDNDDragStart = attributes => {\n    const {draggableId} = attributes\n    document.querySelector(`#item-${draggableId}`).style.backgroundColor = \"green\"\n  }\n\n  handleDNDDragEnd = result => {\n    const { destination, source, draggableId } = result\n    if (!destination) {\n      return\n    }\n\n    if (destination.index !== source.index) {\n      const testArray = [...this.state.currProgression]\n      testArray.splice(source.index, 1)\n      testArray.splice(destination.index, 0, this.state.currProgression[source.index])\n      this.setState({\n        ...this.state,\n        currProgression: testArray\n      })\n    }\n\n  }\n\n  render(){\n    return (\n      <div className=\"new-progression-container\">\n        <DragDropContext\n          onDragEnd={this.handleDNDDragEnd}\n          onDragStart={this.handleDNDDragStart}\n          >\n          <Droppable droppableId=\"droppable-1\" direction=\"horizontal\">\n            {(provided) => (\n              <Progression\n                innerRef={provided.innerRef}\n                {...provided.droppableProps}\n                removeFromProgression={this.removeFromProgression}\n                currProgression={this.state.currProgression}\n                handleProgressionItemClick={this.handleProgressionItemClick}\n                handleDragOver={this.handleDragOver}\n                handleDragLeave={this.handleDragLeave}\n                handleOnDrop={this.handleOnDrop}>\n                  {provided.placeholder}\n              </Progression>\n            )}\n          </Droppable>\n        </DragDropContext>\n\n        <NewProgressionMenuBar handleMenuClick={this.handleMenuClick} menuSelect={this.state.menuSelect} progressionEmpty={this.progressionEmpty}/>\n        {this.state.menuSelect === \"Edit Progression\" && this.state.selectedIndex !== '' ? <DisplayPreview video={this.state.currProgression[this.state.selectedIndex]} removeFromProgression={this.removeFromProgression}/> : ''}\n        {this.state.menuSelect === \"Add YouTube Video\" ? <VideoSearchContainer addToProgression={this.addToProgression} handleDragStart={this.handleDragStart} /> : ''}\n      </div>\n    )\n  }\n}\n\nexport default NewProgressionContainer\n"]},"metadata":{},"sourceType":"module"}